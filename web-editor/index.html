<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GitHub OAuth 登录</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <h1>欢迎使用 LunaTV 配置编辑器</h1>
        <p>请点击下面的按钮，使用 GitHub 登录并授权访问您的配置文件。</p>
        <button onclick="oauthLogin()">点击登录并授权</button>
    </div>

    <script>
        function oauthLogin() {
            const clientID = 'Ov23ligWR1OA4D8xEHN4';  // 你的 Client ID
            const redirectURI = 'https://hafrey1.github.io/LunaTV-config/web-editor/callback.html';  // 授权回调 URL
            const scope = 'repo';  // 请求访问仓库的权限
            const state = 'random_string_for_security';  // 用于防止 CSRF 攻击

            const url = `https://github.com/login/oauth/authorize?client_id=${clientID}&redirect_uri=${redirectURI}&scope=${scope}&state=${state}`;
            window.location.href = url;  // 重定向到 GitHub 授权页面
        }
    </script>
</body>
</html>
