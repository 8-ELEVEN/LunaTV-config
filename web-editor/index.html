<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>🌙 Luna TV 配置编辑器</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/monaco-editor@0.44.0/min/vs/loader.js"></script>
</head>
<body>
    <div class="container">
        <header>
            <h1>🌙 Luna TV 配置编辑器</h1>
            <div class="auth-section">
                <input type="password" id="github-token" placeholder="请输入 GitHub Personal Access Token (classic)" />
                <button onclick="loadConfig()" id="load-btn">📥 加载配置</button>
                <button onclick="saveConfig()" id="save-btn" disabled>💾 保存配置</button>
                <button onclick="formatJson()" id="format-btn" disabled>🎨 格式化JSON</button>
            </div>
        </header>
        
        <main>
            <div class="toolbar">
                <div class="file-info">
                    <span>📄 文件：<strong>luna-tv-config.json</strong></span>
                    <span id="file-size"></span>
                    <span id="encoding-info">🔤 编码：UTF-8</span>
                </div>
                <div class="editor-options">
                    <label>
                        <input type="checkbox" id="word-wrap" checked> 自动换行
                    </label>
                    <label>
                        <input type="checkbox" id="minimap"> 显示缩略图
                    </label>
                    <select id="theme-select">
                        <option value="vs-dark">🌙 深色主题</option>
                        <option value="vs">☀️ 浅色主题</option>
                        <option value="hc-black">🔆 高对比度</option>
                    </select>
                </div>
            </div>
            
            <div class="editor-container">
                <div id="json-editor"></div>
            </div>
            
            <div class="status-bar">
                <span id="status">💡 请输入 GitHub Token 并点击加载配置</span>
                <span id="validation-status"></span>
            </div>
        </main>
        
        <footer>
            <div class="help-section">
                <h3>📋 使用说明</h3>
                <div class="help-content">
                    <div class="help-steps">
                        <h4>🚀 快速开始</h4>
                        <ol>
                            <li><strong>获取Token：</strong>访问 GitHub Settings → Developer settings → Personal access tokens → Tokens (classic)</li>
                            <li><strong>创建Token：</strong>点击 "Generate new token"，选择 <code>repo</code> 权限</li>
                            <li><strong>输入Token：</strong>复制Token并粘贴到上方输入框</li>
                            <li><strong>开始编辑：</strong>点击"加载配置"开始编辑您的JSON文件</li>
                        </ol>
                    </div>
                    <div class="help-shortcuts">
                        <h4>⌨️ 快捷键</h4>
                        <div class="shortcuts-grid">
                            <span><kbd>Ctrl</kbd> + <kbd>S</kbd> 保存文件</span>
                            <span><kbd>Ctrl</kbd> + <kbd>F</kbd> 查找内容</span>
                            <span><kbd>Ctrl</kbd> + <kbd>H</kbd> 查找替换</span>
                            <span><kbd>Alt</kbd> + <kbd>Shift</kbd> + <kbd>F</kbd> 格式化JSON</span>
                            <span><kbd>Ctrl</kbd> + <kbd>Z</kbd> 撤销操作</span>
                            <span><kbd>Ctrl</kbd> + <kbd>Y</kbd> 重做操作</span>
                        </div>
                    </div>
                </div>
            </div>
        </footer>
    </div>
    
    <script src="script.js"></script>
</body>
</html>
